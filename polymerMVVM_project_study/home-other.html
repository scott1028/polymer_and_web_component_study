<link rel="import" href="/bower_components/polymer/polymer.html">
<!-- <link rel="import" href="/layouts/sidebar-layout.html"> -->

<polymer-element name="home-other">

    <template>
        <div style="display: flex;">
            <div style="flex: 1;">
                <h1>home-other.html by owner: {{owner}}</h1>

                <h2>(X) Repeat input Update Model work incorrect!</h2>

                <label><b>Data-Binding Test:</b></label><input value="{{owner}}" />

                <div style="color: red;">Will now work, due to owner will be emtyp first.<span>## [[owner]] ##</span></div>

                <template repeat="{{item in dataList}}">
                    <div style="color: blue;">Work fine, due to top node ready, the owner has value.<span>## [[owner]] ##</span></div>
                    <br /><span>{{item}}</span><span>{{owner}}</span><input value="{{owner}}" />
                </template>

                <template repeat="{{item, index in dataList}}">
                    <br /><label><b>idx:{{index}} Item Data-Binding Test({{item}}):</b></label><input value="{{item}}" on-change="{{onChangeData}}" />
                </template>

                <br />
                <label>Pointer to dataList[3]</label><input value="{{dataList[3]}}" />

                <br /><button type="submit" on-click="{{clickUpdateDataButton}}">Save!</button>
            </div>

            <div style="flex: 1;">
                <h2>(O) Repeat input Update Model work correct with objects!</h2>

                <template repeat="{{item in dataList2}}">
                    <br /><span>{{item.value}}</span>
                </template>

                <template repeat="{{item, index in dataList2}}">
                    <br /><label><b>idx:{{index}} Item Data-Binding Test({{item.label}}):</b></label><input value="{{item.value}}" on-change="{{onChangeData}}" />
                </template>

                <template repeat="{{item, index in dataList2}}">
                    <br /><label><b>idx:{{index}} Item Data-Binding Test({{item.value}}):</b></label><input value="{{item.label}}" on-change="{{onChangeData}}" />
                </template>
                
                <br />
                
                <input value="{{dataList2[0].value}}" />
            </div>

            <div style="flex: 1;">
                <h2>(O) Repeat input Update Model work incorrect with values!</h2>

                <template repeat="{{item in dataList3}}">
                    <br /><span>{{item}}</span><span>{{owner}}</span><input value="{{owner}}" />
                </template>

                <template repeat="{{item, index in dataList3}}">
                    <br /><label><b>idx:{{index}} Item Data-Binding Test({{item}}):</b></label><input value="{{item}}" on-change="{{onChangeData}}" />
                </template>

            </div>

            <div style="flex: 1;">
                <h2>(O) Repeat input Update Model work incorrect with values with Arrary.keys()</h2>

                <template repeat="{{item in dataList3}}">
                    <br /><span>{{item}}</span><span>## [[owner]] ##</span><input value="{{owner}}" />
                </template>

                <template repeat="{{item, index in dataList3}}">
                    <br /><label><b>idx:{{index}} Item Data-Binding Test({{item}}):</b></label><input value="{{item}}" on-change="{{onChangeData}}" />
                </template>
            </div>
        </div>

    </template>

    <script>
        Polymer({
            is: "home-other",
            ready: function() {
                // set this element's owner property
                this.owner = "Daniel";
                

                //
                var dataList = [1, 2, 100, 4, 5, 99];

                var dataList2 = [
                    { label: 'a', value: 1 },
                    { label: 'b', value: 2 },
                    { label: 'c', value: 3 },
                ];

                var dataList3 = [
                    'a',
                    'b',
                    'c',
                ];


                // set ref to a pointer
                this.dataList = dataList;
                this.dataList2 = dataList2;
                this.dataList3 = dataList3;


                // update this reference value
                // setInterval(function(e){
                //     dataList[0] += 1;
                // }, 1000);
            },
            clickUpdateDataButton: function(){
                console.log(this);
                console.log(this.dataList);
            },
            onChangeData: function(e, a, b, c){
                // debugger;
                console.log(e, a, b, c);
                console.log(e.target.value);
                console.log(e.target.value.index);
                console.log(this.dataList);
                // debugger;
            }
        });
    </script>

</polymer-element>
